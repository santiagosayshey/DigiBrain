> [!motivation] Implementing File Systems
> File systems need to efficiently manage storage and retrieval of data on disk:
> - Represent files and directories as data structures
> - Provide methods for file access (read, write)
> - **Map logical file structures to physical disk blocks**
> - Optimize for performance and space utilization
> - Handle file growth and fragmentation

> [!idea] Disk Structures and File Mapping
> File systems manage disk space as an array of blocks, mapping logical files to physical locations.
> 
> ```mermaid
> graph TD
>     A[Disk] --> B[Array of Blocks]
>     C[File 1] -.-> D[?]
>     E[File 2] -.-> F[?]
>     G[File 3] -.-> H[?]
>     D -.-> B
>     F -.-> B
>     H -.-> B
>     I[File System] --> J[Mapping Structure]
>     J --> K[Block Allocation]
>     K --> B
> ```
> 
> Key concepts:
> - Disks divided into fixed-size blocks
> - Files abstracted as logical entities
> - Mapping structures link files to disk blocks
> - Similar to virtual memory mapping physical memory
> 
> File allocation methods:
> 1. Contiguous allocation
> 2. Extent-based allocation
> 3. Linked allocation
> 4. File Allocation Tables (FAT)
> 5. Indexed allocation
> 6. Multi-level index
> 
> Considerations:
> - Fragmentation management
> - Accommodating file growth
> - Balancing simplicity and flexibility

> [!consider] Contiguous Allocation
> 
> ```mermaid
> graph LR
>     A[File] --> B[Start Block]
>     A --> C[Length]
>     B --> D[Contiguous Blocks on Disk]
>     C --> D
> ```
> 
> Description:
> - Files stored in consecutive blocks on disk
> - Each file defined by starting block and length
> 
> Advantages:
> - Simple implementation
> - Excellent read performance (sequential access)
> - Minimal disk seeks for large files
> 
> Disadvantages:
> - External fragmentation
> - Difficult to accommodate file growth
> - Requires accurate size prediction or frequent reallocation

This structure provides an overview of file system implementation concepts, focusing on disk structures, file mapping, and a specific allocation method (contiguous allocation). The mermaid diagrams visually represent the relationships between abstract files and physical disk blocks, as well as the contiguous allocation method.