> [!idea] Socket
> A socket is an **interface between an application and the network**, allowing data to be exchanged between applications running on different hosts.
>
> - Applications **pass data to a socket** for transmission over the network.
> - Applications **receive data from a socket** sent by another host on the network.
> 
> Sockets can be used with both **TCP (Transmission Control Protocol)** and **UDP (User Datagram Protocol)**.
>
> | Feature | TCP Socket | UDP Socket |
> |---------|------------|------------|
> | Connection | Connection-oriented | Connectionless |
> | Reliability | Reliable, ordered delivery | Unreliable, unordered delivery |
> | Data Boundary | Stream-based, no boundaries | Datagram-based, preserves boundaries |
> | Error Checking | Extensive error checking and recovery | Basic error checking, no recovery |
> | Usage | Reliable data transfer (e.g., web, email) | Fast, efficient data transfer (e.g., streaming, DNS) |

> [!idea] Ports
> Each host machine has an IP address, and each address has **65,536 ports**. These ports can be thought of as doors at an address, allowing multiple services to be hosted on a single machine.
> 
> Some ports are reserved for specific purposes:
> - Port 22: SSH (Secure Shell) for remote access
> - Port 53: DNS (Domain Name System) for name resolution
> - Port 80: HTTP (Hypertext Transfer Protocol) for web traffic
> - Port 443: HTTPS (HTTP Secure) for secure web traffic
> 
> Reserving ports ensures that well-known services can be easily accessed and prevents conflicts between different applications.
> 
> A socket provides an **interface to send and receive data through a specific port**. By associating a socket with a port, applications can communicate with other hosts on the network using the appropriate protocol (e.g., TCP or UDP).

> [!idea] Bind
> The `bind()` function associates (or exclusively reserves) a port for use by a socket.
> 
> ```c
> int status = bind(sockid, &addrport, size);
> ```
> 
> - `sockid`: The socket descriptor returned by the `socket()` function.
> - `&addrport`: A pointer to a `struct sockaddr` containing the IP address and port number to bind to.
> - `size`: The size of the `struct sockaddr`.
> 
> The `bind()` function returns 0 on success and -1 on failure.

> [!idea] Connection
> A connection occurs between two endpoints: a server and a client.
> 
> - The server waits passively for an active participant to establish a connection.
> - The client initiates a connection request to the server.
> 
> Once the connection is established, both the server and the client can send and receive data, as well as terminate the connection.

> [!idea] Listen, Accept, and Connect
> The `listen()`, `accept()`, and `connect()` functions are used to establish connections between a server and a client.
> 
> ```c
> int status = listen(sock, queuelen);
> ```
> 
> - `sock`: The socket descriptor.
> - `queuelen`: The maximum number of pending connections that can be queued.
> 
> The `listen()` function prepares the server to accept incoming connection requests and specifies the maximum number of pending connections.
> 
> ```c
> int s = accept(sock, &addr, &addrlen);
> ```
> 
> - `sock`: The listening socket descriptor.
> - `&addr`: A pointer to a `struct sockaddr` to store the client's address information.
> - `&addrlen`: A pointer to the size of the `struct sockaddr`.
> 
> The `accept()` function is non-blocking and returns a new socket descriptor for the accepted client connection.
> 
> ```c
> int status = connect(sock, &addr, addrlen);
> ```
> 
> - `sock`: The socket descriptor.
> - `&addr`: A pointer to a `struct sockaddr` containing the server's address information.
> - `addrlen`: The size of the `struct sockaddr`.
> 
> The `connect()` function is blocking and establishes a connection to the specified server address. It returns 0 on success and -1 on failure.

idea - write & send
- ssize_t write(int fd, const void *buf, size_t count);
- int send(int sockfd, const void *msg, int len, int flags);

idea - read and recv
- ssize_t read(int fd, void *buf, size_t count
- int recv(int sockfd, void *buf, int len, unsigned int flags);

> [!example] Socket Creation and Usage in C
> 
> ```c
> // Create a socket
> int sockfd = socket(domain, type, protocol);
> 
> // Specify the address and port
> struct sockaddr_in server_address;
> server_address.sin_family = AF_INET;
> server_address.sin_port = htons(port);
> server_address.sin_addr.s_addr = inet_addr(ip_address);
> 
> // Bind the socket to the address and port (for server)
> bind(sockfd, (struct sockaddr*)&server_address, sizeof(server_address));
> 
> // Listen for incoming connections (for server)
> listen(sockfd, max_connections);
> 
> // Accept a client connection (for server)
> int clientfd = accept(sockfd, (struct sockaddr*)&client_address, &client_address_length);
> 
> // Connect to the server (for client)
> connect(sockfd, (struct sockaddr*)&server_address, sizeof(server_address));
> 
> // Send data
> send(sockfd, data, data_length, flags);
> 
> // Receive data
> recv(sockfd, buffer, buffer_size, flags);
> 
> // Close the socket
> close(sockfd);
> ```
>
> The process involves:
> 1. Creating a socket with the appropriate domain, type, and protocol.
> 2. Specifying the address and port to bind the socket to (for server) or connect to (for client).
> 3. Listening for incoming connections (for server) and accepting client connections.
> 4. Sending and receiving data using `send()` and `recv()` functions.
> 5. Closing the socket when communication is complete.