
> [!consider] **The Need for Data Interaction**
>
> **How do we manage and interact with data in systems** where information constantly changes and grows? Consider the tasks involved in updating customer records, processing transactions, or retrieving specific data quickly and securely.

> [!idea] **SQL **
>
> SQL, or Structured Query Language, is a tool that manages data in relational databases. It allows us to **find, update, insert, and delete data efficiently**, meeting the needs of complex data systems.
>
> Below is a table summarizing the primary SQL commands and some advanced operations:
>
> | Command   | Description                                           | Additional Keywords       |
> |-----------|-------------------------------------------------------|---------------------------|
> | **SELECT**    | Retrieves data from database tables.                  | WHERE, GROUP BY, ORDER BY |
> | **INSERT**    | Adds new rows of data to tables.                      |                           |
> | **UPDATE**    | Modifies existing data.                               | WHERE, SET                |
> | **DELETE**    | Removes data.                                         | WHERE                     |
> | **JOIN**      | Combines rows from two or more tables based on related columns. | INNER, OUTER, LEFT, RIGHT |
> | **Subqueries**| Executes a query nested within another query.         |                           |
>
> These commands are foundational for interacting with data in relational databases, each equipped with specific keywords that refine and enhance their functionality:
>
> - **WHERE**: Specifies which rows to select, update, or delete, adding precision to operations.
> - **GROUP BY**: Groups similar data together, often used with aggregate functions.
> - **ORDER BY**: Sorts the data returned by a query in ascending or descending order.
> - **SET**: Specifies the columns to update and the new values in an UPDATE command.

> [!example] **Using SQL SELECT Command**
>
> Suppose we have a database with a table named `Customers`. To retrieve a list of all customers:
> ```sql
> SELECT * FROM Customers;
> ```
> This command fetches all columns and rows from the `Customers` table.

> [!example] **Using SQL JOIN Command**
>
> Consider two tables, `Orders` and `Customers`, where each order is linked to a customer through a `CustomerID`. To retrieve a list of orders along with the customer names:
> ```sql
> SELECT Orders.OrderID, Customers.CustomerName
> FROM Orders
> INNER JOIN Customers ON Orders.CustomerID = Customers.CustomerID;
> ```
> | OrderID | CustomerName |
> |---------|--------------|
> | 1       | John Doe     |
> | 2       | Jane Smith   |
> 
> This command shows how an INNER JOIN combines rows from both tables where there is a match in `CustomerID`.

> [!example] **Using SQL UPDATE Command**
>
> To update the address for a customer with ID 1 in the `Customers` table:
> ```sql
> UPDATE Customers
> SET Address = '123 New Address'
> WHERE CustomerID = 1;
> ```
> This command changes the address field for the customer whose ID is 1.


> [!idea] **OWASP and Web Application Security**
>
> The Open Web Application Security Project (OWASP) is an international nonprofit organization dedicated to improving the security of software. One of their key resources, the **OWASP Top 10, lists the most critical security risks** to web applications. Among these, **SQL injection (SQLi) is a prevalent threat**, where attackers exploit vulnerabilities in SQL database management systems to execute malicious SQL statements.

> [!idea] **SQL Injection (SQLi)**
>
> SQL injection (SQLi) occurs when an attacker manages to insert or **"inject" a malicious SQL query into the input data from** a client to the application. This can happen when applications **unsafely take user input and use it to construct SQL queries**. If an application **fails to properly sanitize input**, it can lead to unauthorized access to sensitive data, manipulation of data, and other malicious activities.


> [!example] **'OR '1'='1 Authentication Bypass**
>
> This common SQLi technique involves adding `' OR '1'='1'` to a SQL query to make the query always true. For example, an attacker might input `username' OR '1'='1` in a login form. This would modify the SQL command to authenticate the user regardless of whether the username exists in the database, bypassing security checks.
> 
> ```sql
> SELECT * FROM users WHERE username = 'username' OR '1'='1' AND password = 'password';
> ```

> [!example] **Using UNION to Extract Data**
>
> The `UNION` SQL operator is used to combine the results of two or more `SELECT` statements into a single result. Attackers can use `UNION` to append a malicious query to a legitimate query, extracting additional, unauthorized information from the database.
> 
> ```sql
> -- Assume the original query intended by the application is:
> SELECT name, price FROM products WHERE id = [user_input];
> -- An attacker could input:
> 1 UNION SELECT username, password FROM users;
> ```

> [!example] **Batched SQL Statements**
>
> In some SQL environments, attackers can execute batched SQL commands, where multiple statements are combined into a single command string separated by semicolons. This can lead to severe issues like data deletion or database schema alterations.
> 
> ```sql
> -- Original, benign SQL query:
> SELECT name FROM students WHERE id = [user_input];
> -- Malicious input example:
> 1; DROP TABLE students;
> ```

These callouts introduce the concepts clearly, linking the theoretical risks highlighted by OWASP with practical examples of how SQL injection can be executed, showcasing the potential damage of such attacks. This approach helps underscore the critical need for secure coding practices, especially in handling user input that interacts with databases.