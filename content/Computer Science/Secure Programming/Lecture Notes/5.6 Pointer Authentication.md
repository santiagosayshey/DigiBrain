> [!idea] Pointer Authentication
> Pointer Authentication **builds upon the concept of stack canaries by embedding security within the pointer itself.** (rather than adding something below it)
> - Utilizes unused bits in 64-bit addresses to store a secret value (Pointer Authentication Code or PAC)
> - Typically, only 42 bits of a 64-bit address are used, leaving space for the PAC
> - Before pointer use:
>   1. PAC validity is checked
>   2. If valid, unused bits are restored (usually 22 zeroes)
>   3. Address is then used normally
> - Applicable to pointers on both stack and heap
>
> ```image_goes_here
> A visual representation of a 64-bit pointer with PAC:
> [42 bits: Address][22 bits: PAC]
> ```

> [!idea] PAC Properties
> Pointer Authentication Codes (PACs) have specific properties that enhance security:
> - Uniqueness: **Each address has a distinct PAC, preventing address manipulation without PAC alteration**
> - Inaccessibility: PACs are generated using the CPU's master secret, which is not accessible to programs
> - Verification: **PACs are checked before pointer use, crashing the program if invalid**

> [!consider] Breaking Pointer Authentication
> Potential methods to compromise pointer authentication:
> - PAC Generation Exploitation: Tricking the program into generating a PAC for a specific address
> - Master Secret Compromise: Theoretically possible through OS vulnerabilities, but impractical due to CPU hardcoding
> - Brute Force Attacks: Feasible due to the 2^22 bit space of PACs
> - Pointer Reuse: Copying a PAC from one valid pointer to use elsewhere

> [!idea] Pointer Reuse Attack
> A method to bypass pointer authentication by exploiting existing valid pointers:
> - Attacker identifies a pointer with a valid PAC
> - The PAC is copied and applied to a different pointer
> - This new pointer, now with a valid PAC, is used elsewhere in the program
> - Challenge: Finding a suitable pointer with the desired permissions and memory location
> - Mitigation: Diversifying PAC generation based on pointer type and context

consider - defending against pointer reuse
