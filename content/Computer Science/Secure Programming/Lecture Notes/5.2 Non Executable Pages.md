> [!idea] Non-Executable Pages
> Non-executable pages, also known as Data Execution Prevention (DEP) or No-Execute (NX), **mark certain memory pages as non-executable, preventing code execution from those regions.** We achieve this by **setting write and execute bits on page tables.** 
> 
> Key points:
> - The stack is intended for storing data, not code, so making it executable is unnecessary and potentially dangerous.
> - By marking the stack and other data regions as non-executable, DEP/NX prevents attackers from executing injected shellcode via buffer overflow exploits.
> - DEP/NX does not prevent all types of attacks, such as heap overflows or return-oriented programming (ROP), which reuse existing code snippets.
> - DEP/NX is widely supported by modern processors and operating systems, making it a standard exploit mitigation technique.


> [!example] DEP/NX in Action
> Consider a simple buffer overflow vulnerability in a program:
> ```c
> void vulnerable_function(char *input) {
>     char buffer[100];
>     strcpy(buffer, input);
> }
> ```
> Without DEP/NX, an attacker could:
> 1. Send a long input that overflows the `buffer` and overwrites the return address on the stack.
> 2. Include shellcode in the input, which gets executed when the function returns.
>
> With DEP/NX enabled:
> 1. The stack is marked as non-executable.
> 2. If the attacker tries to execute shellcode on the stack, the program crashes due to a violation of the non-executable permission.
> 3. The exploit attempt is thwarted, protecting the system from arbitrary code execution.

consider - DEP score card

consider - how do we exploit this?
- well trying to execute shellcode on DEP results in a crash - so why dont we keep doing that? An injection attack just became a DOS attack. 
- we can still jump to existing code that *can* be ex





