# The Postal Analogy

- Data encapsulation in networks is like putting a letter inside multiple envelopes
- Each OSI layer adds its own "envelope" (header) to the data
- Application layer data = the letter itself
- Headers are added from top to bottom layers
- Headers are removed from bottom to top layers at the receiving end
# Delays

| Delay Type                          | Description                                                                                                                                                                                                                                                                              | Formula                                     |
| ----------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------- |
| <center>Propagation Delay</center>  | The time it takes for a signal to travel from point A to point B over a network medium. It is influenced by the type of medium, the distance between the points, and typically the speed of the signal, which is often close to $c$, the speed of light $(3 \times 10^8$ m/s) in vacuum. | $$t_p=\frac{Distance}{Speed}$$              |
| <center>Transmission Delay</center> | The time required to transmit all the bits of a packet into the network medium. Packet size is denoted by $L$, and the bandwidth (data carrying capacity) is denoted by $R$.                                                                                                             | $$t_T=\frac{L}{R}$$                         |
| <center>Queuing Delay</center>      | The time a packet spends waiting in a queue before it can be transmitted over the network due to congestion or prior packet processing. If there is no space in the queue (i.e. not enough buffer in the router), that packet is dropped!                                                | Depends on queue length and network traffic |
| <center>Processing Delay</center>   | The time taken by a network device (e.g., router, switch) to process a packet.                                                                                                                                                                                                           | Depends on device and packet complexity     |
# Application Layer Protocols

Application layer protocols define the rules for communication between applications running on different devices. They specify the types of messages exchanged, their format (syntax), meaning (semantics), and how and when they should be exchanged.

| Protocol | Key Features                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| TCP      | - Connection-oriented protocol<br>- Provides reliable, ordered, and error-checked delivery of data<br>- Establishes a virtual connection between sender and receiver<br>- Uses a three-way handshake for connection establishment<br>- Employs flow control and congestion control mechanisms                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| UDP      | - Connectionless protocol<br>- Provides unreliable, unordered, and error-prone delivery of data<br>- No virtual connection establishment<br>- Faster than TCP due to less overhead<br>- Suitable for applications that prioritize speed over reliability, such as streaming media or online gaming                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| DNS      | - Translates domain names to IP addresses<br>- Hierarchical, distributed database (root, TLD, authoritative, and local name servers)<br>- Supports iterative and recursive queries<br>  - Iterative: Server responds with the best answer it has or refers the client to another server<br>  - Recursive: Server takes responsibility for resolving the query, querying other servers if needed<br>- Resource records:<br>  - A: IPv4 address<br>  - AAAA: IPv6 address<br>  - NS: Name server<br>  - CNAME: Canonical name<br>  - MX: Mail exchange<br>- Uses UDP on port 53 for queries and responses                                                                                                                                                                                                                                                                                                                                       |
| HTTP     | - Protocol for communication between web browsers and servers<br>- HTTP/1.0 (non-persistent):<br>  - Each connection is used for only a single request and response<br>  - Requires two RTTs: one for TCP handshake and another for HTTP request/response<br>  - Higher overhead due to establishing and closing connections for each request<br>- HTTP/1.1 (persistent):<br>  - Connections can be reused for multiple requests and responses<br>  - Reduces the number of RTTs and overhead<br>  - Introduces more complex connection management (timeout and closure mechanisms)<br>- Caching and proxies:<br>  - Temporary storage of frequently requested data to reduce server load and improve response time<br>  - Proxies act as intermediaries between clients and servers, forwarding requests and responses<br>- Pipelining (HTTP/1.1):<br>  - Sending multiple requests without waiting for each response, improving performance |
