> [!idea] Selective Repeat (SR)
>
> Selective Repeat is a pipelining protocol that allows the sender to transmit multiple packets (up to a window size) without waiting for an acknowledgment, and the receiver individually acknowledges each correctly received packet, even if it is out of order.
>
> | Example 1 | Example 2 |
> |-----------|-----------|
> | - Sender's window size: 4 | - Sender's window size: 5 |
> | - Sent packets: 1, 2, 3, 4 | - Sent packets: 1, 2, 3, 4, 5 |
> | - Received ACKs: 1, 2, 4 | - Received ACKs: 1, 2, 3, 5 |
> | - Packet 3 is lost | - Packet 4 is lost |
> | - Sender times out waiting for ACK 3 | - Sender times out waiting for ACK 4 |
> | - Sender retransmits only packet 3 | - Sender retransmits only packet 4 |
> | - Sender sends packet 5 after receiving ACK 4 | - Sender sends packets 6 and 7 after receiving ACKs 3 and 5 |
>
> Key points:
> - Both sender and receiver maintain a window of size N
> - Receiver sends individual ACKs for each correctly received packet
> - Lost or corrupted packets cause the sender to timeout waiting for the corresponding ACK
> - Sender retransmits only the lost or corrupted packet
> - Window slides forward upon receiving ACKs, allowing new packets to be sent
> - **Selective Repeat allows for more efficient use of bandwidth by retransmitting only the lost or corrupted packets, unlike Go-Back-N, which retransmits all packets starting from the lost one**
> - **The receiver must have a buffer to store out-of-order packets until the missing packets are received, allowing for in-order delivery to the upper layer**
> - The windows only shifts once the last ACK + 1 packet is ACKed (i.e.. in order)
>
>**Note:** The timeout in the video takes a while. 
>
> ![[output.mp4]]


