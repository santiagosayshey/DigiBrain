

> [!consider] Abstracting the mail delivery process
>
> The application and transport layers allow us to package data into packets and address them for delivery, similar to placing letters in a mailbox. But **how do these packets actually reach their destination**?
>
> **The network layer is responsible for this process.** It **acts as the postal service of the internet,** routing and delivering packets from the source to the destination. However, like the postal service, the network layer provides a **best-effort delivery service**, meaning it does not guarantee reliable or timely delivery of packets.

> [!idea] The network layer: Routing packets across networks
>
> The network layer is responsible for **routing data packets from the source to the destination**. It examines the destination address on each packet and determines the best path for it to take across multiple networks.
>
> Routers **make independent decisions based on their routing tables** to forward packets toward their final destination. This process continues until the packet reaches the intended recipient.

> [!idea] Datagrams: The fundamental abstraction of the network layer
>
> The most important abstraction provided by the network layer is the **datagram**, which is the basic unit of data transmission in a packet-switched network.
>
> In a packet-switched network, data is divided into smaller, self-contained units called packets or datagrams. Each datagram contains a source and destination address and can be independently routed through the network, allowing for efficient use of network resources.
>
> This is in contrast to circuit-switched networks, where a dedicated communication channel is established between the source and destination for the duration of the communication session. Packet-switched networks, using datagrams, offer greater flexibility and resilience, as they can dynamically adapt to network conditions and route packets along different paths if necessary.

In the new idea callout:
- The title introduces datagrams as the fundamental abstraction of the network layer.
- The first paragraph defines datagrams as the basic unit of data transmission in a packet-switched network.
- The second paragraph explains how datagrams contain source and destination addresses and can be independently routed through the network, enabling efficient use of network resources.
- The third paragraph contrasts packet-switched networks with circuit-switched networks, highlighting the flexibility and resilience offered by packet-switched networks using datagrams.