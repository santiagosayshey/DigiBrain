> [!motivation] The Need for Efficient Routing
> In large-scale networks, **traditional IP routing can become complex and inefficient due to the need to process long network addresses at each hop**. Routers perform longest prefix matching to determine the next hop, which can be time-consuming and resource-intensive. This can lead to increased latency and reduced network performance, especially in networks with a high volume of traffic. An optimized routing technique is needed to simplify the routing process and improve overall network efficiency.

> [!idea] MPLS (Multiprotocol Label Switching)
> MPLS is a routing technique that **directs data based on short path labels rather than long network addresses**, improving network packet forwarding speed and efficiency. Labels identify virtual links between distant nodes, allowing for simplified packet routing.
> - Uses labels to determine packet routes, which is faster than longest prefix matching
> - **MPLS is added to the datagram between layer 2 and layer 3,** allowing the IP header to be retained while MPLS includes its own label information for efficient routing.
> 
> MPLS networks consist of Label Switch Routers (LSRs) that perform label switching and Label Edge Routers (LERs) at the network edge that assign and remove labels. 
> 
> | Component | Role |
> |-----------|------|
> | LSR | Forward packets to outgoing interfaces based **only** on label value |
> | LER | Assigns and removes labels and forwards packets to LSRs |


> [!example] MPLS in Action
> Consider a packet traveling from Host A to Host B through an MPLS network:
> 1. Host A sends a packet to the ingress router (Ingress LER).
> 2. The Ingress LER assigns an MPLS label to the packet based on its destination and forwards it to the next LSR along the Label Switched Path (LSP).
> 3. Each LSR on the LSP uses the label to determine the next hop and performs a label swap, replacing the incoming label with the outgoing label.
> 4. The packet reaches the egress router (Egress LER), which removes the label and forwards the packet to Host B.

> [!idea] Flexible Routing and Traffic Engineering
> MPLS allows for flexible routing options, enabling network administrators to **define specific paths for different types of traffic based on various criteria**, not just the fastest path.
> - LSPs can be established based on quality of service (QoS), security requirements, or other administrative policies
> - Traffic can be routed through specific nodes or links to ensure security, performance, or compliance with service level agreements (SLAs)
> - Similar to Software-Defined Networking (SDN), MPLS provides granular control over network paths and resource utilization

> [!idea] Fast Reroute (FRR) and Resilience
> MPLS supports Fast Reroute (FRR) mechanisms to e**nsure rapid recovery from network failures** and minimize disruptions to traffic flows.
> - **Backup LSPs are precomputed and pre-established for each primary LSP**
> - When a failure is detected, traffic is immediately switched to the backup LSP, minimizing packet loss and downtime
> - FRR can be implemented using various techniques, such as one-to-one backup, facility backup, and detour-based backup
> - Enhances network resilience and availability, especially in mission-critical environments

