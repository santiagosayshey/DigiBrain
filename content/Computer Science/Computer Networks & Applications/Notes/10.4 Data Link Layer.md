> [!motivation] Motivation
> Once the **network layer has determined the optimal path** for packets to reach their destination, it's **time to actually transmit** the data over the physical medium. However, sending raw bits directly over a wire or wireless channel is prone to errors due to noise, interference, or other impairments.
>
> The data link layer addresses this challenge by enabling reliable data transfer between two directly connected nodes. It **acts as a "delivery truck" that carries packets from one node to the next** along the path determined by the network layer. The data link layer **ensures that the packets are not corrupted** during transmission and can detect and possibly correct errors that may occur.

> [!idea] Data Link Layer
> The data link layer has two primary responsibilities:
> 1. **Reliable delivery between adjacent nodes**: The data link layer ensures that data is delivered accurately from one node to the next over the physical link. It does this by:
>    - Framing: Dividing the data into manageable units called frames.
>    - Error detection: Adding error detection codes to each frame to identify transmission errors.
>    - Error correction (optional): Including error correction codes to recover from certain types of errors without retransmission.
>    - Flow control: Regulating the rate at which frames are sent to avoid overwhelming the receiver.
> 2. **Access control for shared media**: When multiple devices are connected to the same physical medium (e.g., in a LAN), the data link layer coordinates their access to avoid collisions. This is done using media access control (MAC) protocols like CSMA/CD (used in Ethernet) or CSMA/CA (used in Wi-Fi).

> [!example] Example: Ethernet Frame Structure
> Ethernet is a widely used data link layer protocol. An Ethernet frame consists of the following fields:
> ```
> [Preamble] [Dest. Address] [Source Address] [Type/Length] [Data] [Frame Check Sequence]
>     7B           6B               6B              2B       46-1500B         4B
> ```
> - **Preamble**: Synchronizes the receiver's clock with the sender's.
> - **Destination Address**: The MAC address of the intended recipient.
> - **Source Address**: The MAC address of the sender.
> - **Type/Length**: Indicates the type of data carried in the frame or the length of the data field.
> - **Data**: The actual payload, typically an IP packet from the network layer.
> - **Frame Check Sequence (FCS)**: A 32-bit CRC used for error detection.
> 
> This structure allows Ethernet to encapsulate data, address frames to specific devices, and detect transmission errors.

> [!consider] Additional Considerations
> - **Sublayers**: The data link layer is often divided into two sublayers:
>   - Logical Link Control (LLC): Provides an interface for the network layer and performs flow and error control.
>   - Media Access Control (MAC): Handles framing and access control for the specific physical medium.
> - **Addressing**: Data link layer addresses (e.g., MAC addresses) are used for local delivery between devices on the same network segment. These addresses are unique to each network interface and are assigned by the manufacturer.
> - **Switching**: Data link layer switches (e.g., Ethernet switches) can be used to connect multiple devices within a network segment. Switches learn the MAC addresses of connected devices and forward frames only to the intended recipient, improving network efficiency and security.