> [!motivation] The Crowded Room Analogy
> Imagine **trying to communicate in a crowded room where everyone is shouting over each other.** It's chaotic, and messages are likely to get lost or misinterpreted. This scenario illustrates the challenge of communicating over a shared medium, where multiple devices or nodes are trying to transmit data simultaneously.

> [!consider] Direct Links vs. Shared Mediums
> One solution to the shared medium problem is to establish **direct, dedicated links between nodes**. This eliminates interference and ensures secure communication. However, this approach is **expensive and doesn't scale** well as the number of devices increases.
> 
> An alternative is to use **shared broadcast links**, where all devices communicate over the same medium. This is more **cost-effective and scalable** but introduces the need for coordination to avoid **collisions** and ensure successful data transmission.

> [!idea] MAC Protocol
> The goal of MAC protocols is to achieve:
> - **Efficiency**: Maximize the utilization of the available bandwidth.
> - **Fairness**: Ensure that all nodes have equal opportunities to access the channel.
> - **Simplicity**: Minimize the complexity of the protocol implementation.
> - **Decentralization**: Enable distributed operation without relying on a central coordinator.
> 
> MAC protocols can be broadly classified into three categories:
> 
> 1. **Channel Partitioning**: Divides the available bandwidth into smaller channels, each allocated to a single node. Examples include TDMA and FDMA.
> 
> 2. **Random Access**: Allows nodes to access the channel randomly when they have data to send. Examples include ALOHA and CSMA. Collisions need to be recovered from. 
> 
> 3. **Taking Turns**: Allocates the channel to nodes in a round-robin fashion, allowing each node to transmit for a specific duration. Examples include polling and token-passing protocols.

> [!example] FDMA (Frequency Division Multiple Access)
>
> ![[Pasted image 20240521091005.png|600]]
>
> FDMA divides the available frequency spectrum into multiple non-overlapping channels, each occupying a specific frequency range. This allows multiple devices to communicate simultaneously without interference.
>
> - Each node is allocated a specific frequency band, with the band width determined by the total available bandwidth divided by the number of nodes.
> - For example, with a total bandwidth of 80 MHz and 4 nodes, each node gets a 20 MHz frequency band.
> - Devices can communicate on their assigned frequency bands simultaneously.

> [!example] TDMA (Time Division Multiple Access)
>
> ![[Pasted image 20240521091707.png|600]]
>
> TDMA divides the available time into smaller time slots, each allocated to a single node for communication. This allows multiple devices to share the same frequency channel by taking turns.
>
> - The available time is divided into frames, and each frame is divided into time slots.
> - Each node is allocated a specific time slot within the frame to transmit data, avoiding collisions.
> - The number of time slots per frame depends on the number of nodes in the network.
> - For example, with 4 nodes, each frame would have 4 time slots, one for each node.


> [!idea] CDMA (Code Division Multiple Access)
>
> ![[Pasted image 20240521092341.png|800]]
>
> CDMA assigns unique codes to each node, allowing multiple nodes to communicate simultaneously over the same frequency channel without interference.
>
> - Each node is assigned a unique code, which is used to spread its signal across the available frequency spectrum.
> - The code is a sequence of bits that appears random but can be reproduced by the intended receiver.
> - Multiple nodes can transmit simultaneously using different codes, and their signals will be combined in the channel.
> - The receiver uses the same unique code to despread the signal, extracting the original data from the combined signal.
> - The codes are designed to be orthogonal, minimizing interference between nodes.
> - The number of unique codes available determines the maximum number of nodes that can communicate simultaneously.



> [!example] CDMA (Code Division Multiple Access)
>
>
> Let's consider a simple CDMA system with two nodes, A and B, communicating simultaneously over the same frequency channel.
>
> - Node A is assigned the code sequence: [+1, -1, +1, -1]
> - Node B is assigned the code sequence: [+1, +1, -1, -1]
> - These codes are orthogonal to each other, meaning their cross-correlation is zero.
>
> Transmission:
> - Node A wants to send the bit sequence: [+1, -1]
> - Node B wants to send the bit sequence: [+1, +1]
> - Each node spreads its data by multiplying each bit with its assigned code sequence:
>   - Node A: [+1, -1, +1, -1] × [+1, +1, +1, +1] = [+1, -1, +1, -1]
>   - Node B: [+1, +1, -1, -1] × [+1, +1, +1, +1] = [+1, +1, -1, -1]
> - The spread signals from both nodes are combined in the channel:
>   - Combined signal: [+1, -1, +1, -1] + [+1, +1, -1, -1] = [+2, 0, 0, -2]
>
> Reception:
> - The receiver receives the combined signal: [+2, 0, 0, -2]
> - To recover Node A's data, the receiver multiplies the combined signal with Node A's code sequence:
>   - [+2, 0, 0, -2] × [+1, -1, +1, -1] = [+2, 0, 0, +2] = [+1, -1] (Node A's original data)
> - To recover Node B's data, the receiver multiplies the combined signal with Node B's code sequence:
>   - [+2, 0, 0, -2] × [+1, +1, -1, -1] = [+2, 0, 0, +2] = [+1, +1] (Node B's original data)
>
> By using orthogonal codes, CDMA allows multiple nodes to communicate simultaneously over the same frequency channel, while the receiver can effectively separate the individual signals.