
> [!idea]+ Idea
> SMTP stands for Simple Mail Transfer Protocol. It is a protocol used to send emails from one server to another. SMTP ensures that outgoing emails are properly routed from the sender's email server to the recipient's email server.
> 
> ![[Pasted image 20240307022628.png]]

| Electronic Mail Component | Description |
|---------------------------|-------------|
| User Agents               | Also known as "mail reader", this component is responsible for composing, editing, and reading mail messages. Examples include Outlook, Thunderbird, and iPhone mail client. It handles both outgoing and incoming messages stored on the server. |
| Mail Servers              | These servers have mailboxes containing incoming messages for users and a message queue for outgoing (to be sent) mail messages. |
| Simple Mail Transfer Protocol (SMTP) | This protocol is used between mail servers to send email messages. In this context, the client is the sending mail server and the "server" is the receiving mail server, which typically operates over TCP port 25. |

# Example SMTP Interaction

| Current Line                              | Part of Message     |
|-------------------------------------------|---------------------|
| S: 220 hamburger.edu                      | Connection Open     |
| C: HELO crepes.fr                         | Greeting            |
| S: 250 Hello crepes.fr, pleased to meet you | Greeting Response |
| C: MAIL FROM: <alice@crepes.fr>           | Header (From)       |
| S: 250 alice@crepes.fr... Sender ok       | Header Response     |
| C: RCPT TO: <bob@hamburger.edu>           | Header (To)         |
| S: 250 bob@hamburger.edu ... Recipient ok | Header Response     |
| C: DATA                                    | Start of Message    |
| S: 354 Enter mail, end with "." on a line by itself | Prompt for Message Data |
| C: Do you like ketchup?                   | Message Body        |
| C: How about pickles?                     | Message Body        |
| C: .                                       | End of Message      |
| S: 250 Message accepted for delivery      | Acknowledgement     |
| C: QUIT                                    | Close Connection    |
| S: 221 hamburger.edu closing connection   | Connection Closed   |
