> [!idea]+ Multiplexing and Demultiplexing
>
> We previously stated that the fundamental service of TCP and UDP is to take the Network Layer's delivery service, which connects hosts, and extend it to **a delivery service between processes**. This is achieved through the process of multiplexing and de-multiplexing the data sent by processes.
>
> **Multiplexing** refers to the process of combining data from multiple application processes, all destined for transmission across the network, into a single transport-layer protocol defined by their headers. These headers contain the source port (port of the socket sending the data) and the destination port (port of the socket that is receiving the data). The source port is needed to send replies back.
>
> On the other end, **Demultiplexing** is the reverse process. It involves taking data received from the network layer and distributing it to the appropriate application processes based on header information, such as port numbers. This ensures that data intended for different applications or services is correctly routed, allowing multiple applications to share a single network connection without data mix-up.
>
> ![[Pasted image 20240318205509.png]]
>
> The table below shows the required header information for TCP and UDP:
>
> | Header Field | TCP | UDP |
> |--------------|-----|-----|
> | Source Port  | Required | Required |
> | Destination Port | Required | Required |
> | Sequence Number | Required | Not Used |
> | Acknowledgment Number | Required | Not Used |
> | Data Offset  | Required | Not Used |
> | Reserved     | Required | Not Used |
> | Flags (Control Bits) | Required | Not Used |
> | Window Size  | Required | Not Used |
> | Checksum     | Required | Optional |
> | Urgent Pointer | Required | Not Used |
> | Options      | Optional | Not Used |
> | Padding      | Optional | Not Used |
>
> Both TCP and UDP headers require source and destination port numbers for multiplexing and demultiplexing. However, TCP headers include additional fields for reliable, ordered delivery and congestion control, such as sequence numbers, acknowledgment numbers, and window size. UDP headers are much simpler, as UDP is a lightweight, unreliable protocol that does not provide the same level of functionality as TCP.


![[4.1.1]]

![[4.1.2]]



