> [!idea] Network Address Translation (NAT)
> NAT is a technique used by routers to **allow multiple devices in a private network to share a single public IP address**. It translates the private IP addresses of devices within the network to the public IP address of the router when communicating with the Internet.
> - NAT maintains a translation table that maps private IP addresses and port numbers to the router's public IP address and a unique port number.
> - When a device sends a packet to the Internet, NAT replaces the device's private IP address with the router's public IP address and assigns a unique port number.
> - Incoming packets are forwarded to the appropriate device based on the mapping in the NAT translation table.

> [!example] NAT Translation Process
> Consider a home network with a NAT-enabled router and a device with a private IP address of 10.0.0.1.
>
> 1. The device (10.0.0.1) sends a packet to a web server on the Internet (128.119.40.186) using source port 3345.
> 2. The NAT router receives the packet and generates a new source port number (5001) for the connection.
> 3. The router replaces the source IP address (10.0.0.1) with its public IP address (138.76.29.7) and the original source port (3345) with the new port (5001).
> 4. The router creates an entry in the NAT translation table mapping the device's private IP and port to the public IP and new port.
> 5. The web server receives the packet and sends a response back to the router's public IP address and port 5001.
> 6. The router looks up the NAT translation table, replaces the destination IP and port with the device's private IP and original port, and forwards the packet to the device.
>
> ```image_goes_here
> A diagram illustrating the NAT translation process, showing a device with IP 10.0.0.1 sending a packet through a NAT router (138.76.29.7) to a web server (128.119.40.186). The diagram should include the NAT translation table and the changes in IP addresses and port numbers as the packet traverses the network.
> ```

> [!consider] Private IP Address Ranges and Port Numbers
> - NAT allows the use of private IP address ranges (e.g., 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16) within a network, which are not globally unique.
> - Devices within the private network can communicate with each other using their private IP addresses.
> - NAT uses port numbers to differentiate between multiple connections from the same device, allowing up to 65,536 simultaneous connections per public IP address.
> - NAT can cause issues for servers and peer-to-peer applications behind the router, as incoming connections require special configurations (e.g., port forwarding, NAT traversal).

> [!consider] Advantages and Disadvantages of NAT
> Advantages:
> - Conserves public IP addresses by allowing multiple devices to share a single public IP.
> - Provides a level of security by hiding the internal network structure from the Internet.
>
> Disadvantages:
> - Violates the end-to-end principle of the Internet by modifying IP addresses and port numbers.
> - Can cause complications for servers and peer-to-peer applications behind the NAT router.
> - Introduces additional processing overhead on the router for each packet.