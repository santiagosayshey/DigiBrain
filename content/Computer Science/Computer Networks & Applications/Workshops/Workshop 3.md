
> [!exercise]+ Exercise 1 - IP Subnets
> 
> Are the two IP addresses 129.127.8.8 and 129.127.104.8 in the same subnet? Explain your answer.
> 
> Are the two IP addresses 129.127.8.8/24 and 129.127.104.8/24 in the same subnet? Explain your answer.
> 
> **Answers:**
> 1. In classful networking, the first octet in a Class B address ranges from 128 to 191. They also use the first two octets `xxx.xxx` to define the network portion. Since the first octet in both addresses fall between 128 and 191, and they both have the same first two octets, we can confidently say they are both are class B addresses and therefore belong to the same subnet. 
> 2. To determine if these networks are part of the same subnet, we should convert the address into binary and determine if the first 24 bits (the network bits) are the same. We can quickly notice that the first 24 bits make up the first 3 octets, so we need to only compare the decimal octets to see if they're the same. The third octet is different, so we have a different set of network bits and therefore, the addresses belong to two different subnets.


> [!exercise]+ Exercise 2 - IP Fragmentation
>
> A IPv4 router that has an incoming datagram of 1,600 bytes to send into an outgoing link that has an MTU of 500 bytes. The in-coming datagram is stamped with the identification number 291. 
>
> - How many fragments will be generated?
> - What are the values in the various fields in the IP datagram(s) generated by the router?
>
> **Answer:**
>
> 1. Calculate the number of fragments:
>    - IP header size: 20 bytes
>    - Available payload size per fragment: 500 bytes (MTU) - 20 bytes (IP header) = 480 bytes
>    - Number of fragments = (Datagram size - IP header size) / Available payload size per fragment⌉
>    - Number of fragments = (1600 - 20) / 480 = 3.29 = **4 fragments**
>
> 2. Determine the values in the various fields of the generated IP datagrams:
>
>    Fragment 1:
>    - Identification: 291
>    - Flags: More Fragments (MF) = 1
>    - Fragment Offset: 0
>    - Total Length: 500 bytes (480 bytes payload + 20 bytes header)
>
>    Fragment 2:
>    - Identification: 291
>    - Flags: More Fragments (MF) = 1
>    - Fragment Offset: 60 (480 / 8)
>    - Total Length: 500 bytes (480 bytes payload + 20 bytes header)
>
>    Fragment 3:
>    - Identification: 291
>    - Flags: More Fragments (MF) = 1
>    - Fragment Offset: 120 (960 / 8)
>    - Total Length: 500 bytes (480 bytes payload + 20 bytes header)
>
>    Fragment 4:
>    - Identification: 291
>    - Flags: More Fragments (MF) = 0
>    - Fragment Offset: 180 (1440 / 8)
>    - Total Length: 180 bytes (160 bytes payload + 20 bytes header)
>
> In summary:
> - The incoming datagram will be divided into 4 fragments.
> - Each fragment will have the same Identification number (291).
> - The More Fragments (MF) flag will be set to 1 for all fragments except the last one.
> - The Fragment Offset will be calculated based on the position of each fragment in the original datagram.
> - The Total Length will be 500 bytes for the first three fragments and 180 bytes for the last fragment.


> [!exercise]+ Exercise 3 - Forwarding
> Consider an IP network using 32-bit host addresses. Suppose a router has four links, numbered 0 to 3, and packets are to be forwarded to the link interfaces as follows:
>
> | _**Destination Address Range**_                                                                                             | _**Link Interface**_ |
> | --------------------------------------------------------------------------------------------------------------------------- | -------------------- |
> | 11100000 00000000 00000000 00000000     <br><br>                        through<br><br>11100000 00000000 11111111 11111111 | 0                    |
> | 11100000 00000001 00000000 00000000<br><br>                       through<br><br>11100000 00000001 11111111 11111111       | 1                    |
> | 11100000 00000010 00000000 00000000<br><br>                      through<br><br>11100001 11111111 11111111 11111111       | 2                    |
> | Otherwise                                                                                                                   | 3                    |
>
> - Write out a forwarding table, that uses longest prefix matching, and forwards packets to the correct link interfaces.
> - Describe how your forwarding table determines the appropriate link interface for the IP datagrams with destination addresses:
>   - 11111000 10010001 01010001 01010101
>   - 11100000 00000000 11000011 00111100
>   - 11100001 10000000 00010001 01110111


> [!exercise]+ Exercise 4 - Routing Algorithms
> ![[Screenshot 2017-04-26 13.30.40 1.png]]
> 
> Using node E as your base, show how node E builds it's routing table, using Dijkstra's algorithm and then using Distance Vector.

